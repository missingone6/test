<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

        #div1{
            width: 100px;
            height: 100px;
            background-color: red;
        }
        #div{
            width: 100px;
            height: 100px;
            background-color: pink;

            position: fixed;
            top:0;
            left:0;
        }


    </style>
</head>
<body>

12321312312312
    <div id="div"></div>


    <script>
        drug(document.getElementById(
            'div'
        ));

        function drug(target){
            let sw = false;
            let x,y;
            target.onmousedown = function(event){
                sw = true;
                event = event || window.event;
                x = event.clientX - target.offsetLeft;
                y = event.clientY - target.offsetTop;
            }
            document.onmousemove = function(){
                if(sw){
                    let tempX = event.clientX - x;
                    let tempY = event.clientY - y ;
                    console.log(tempX,tempY);
                    target.style.left = tempX  + 'px';
                    target.style.top = tempY + 'px';
                    console.log(target.style.top, target.style.left);
                }

            }
            document.onmouseup = function(){
                sw = false;
            }
        }


        // let div = document.getElementById('div');
        // let sw = false;
        // let x,y;
        // div.style.left = 0;
        // div.style.top = 0;
        // div.onmousedown = function(event){
        //     sw = true;
        //     event = event || window.event;
        //     // x = parseInt(this.style.left) + this.offsetWidth / 2;
        //     // y = parseInt(this.style.top) + this.offsetHeight / 2;;
        //     // console.log(parseInt(this.style.left),x,y);
        //     x = event.clientX - this.offsetLeft;
        //     y = event.clientY - this.offsetTop;
        // }
        // document.onmousemove = function(){
        //     if(sw){
        //         let tempX = event.clientX - x;
        //         let tempY = event.clientY - y ;
        //         console.log(tempX,tempY);
        //         div.style.left = tempX  + 'px';
        //         div.style.top = tempY + 'px';
        //         console.log(div.style.top, div.style.left);
        //         // x = tempX;
        //         // y = tempY;                
        //     }

        // }
        // document.onmouseup = function(){
        //     sw = false;
            
        // }
        // function stopBubble(e) {
        //     //如果提供了事件对象，则这是一个非IE浏览器
        // if ( e && e.stopPropagation )
        //     //因此它支持W3C的stopPropagation()方法
        //     e.stopPropagation();
        // else
        // //否则，我们需要使用IE的方式来取消事件冒泡
        //     window.event.cancelBubble = true;
        // }

        // let div1 = document.getElementById('div1');
        // let div2 = document.getElementById('div2');
        // div1.onclick = function(ev){
        //     div2.style.display = 'block';
        //     stopBubble(ev);
        // }
        // document.onclick = function(){
        //     div2.style.display = 'none';
        // }
    </script>



</body>
</html>
